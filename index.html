<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asset Manager</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <style>
        :root { --bg: #f4f7f6; --card: #ffffff; --primary: #007bff; --admin: #24292f; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #24292f; }
        .header { max-width: 1200px; margin: 0 auto 30px; display: flex; justify-content: space-between; align-items: center; }
        
        /* ÁÆ°ÁêÜËÄÖÁî®„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Éú„Çø„É≥ */
        .admin-btn { 
            background: var(--admin); color: white; text-decoration: none; padding: 10px 20px; 
            border-radius: 6px; font-weight: 600; font-size: 14px; display: flex; align-items: center; gap: 8px;
        }
        .admin-btn:hover { background: #000; }

        .container { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
        
        /* „Ç´„Éº„Éâ„Éá„Ç∂„Ç§„É≥ */
        .card { background: var(--card); border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.12); border: 1px solid #d0d7de; }
        .preview-area { width: 100%; height: 180px; background: #f6f8fa; border-bottom: 1px solid #d0d7de; display: flex; align-items: center; justify-content: center; position: relative; }
        .preview-area img, .preview-area video, .preview-area model-viewer { width: 100%; height: 100%; object-fit: contain; }
        
        .card-body { padding: 16px; }
        .file-name { font-weight: 600; font-size: 14px; margin-bottom: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        
        /* Êìç‰Ωú„Éú„Çø„É≥ */
        .actions { display: flex; gap: 8px; }
        .btn { flex: 1; padding: 6px 12px; font-size: 12px; font-weight: 500; border-radius: 6px; cursor: pointer; border: 1px solid #d0d7de; text-align: center; text-decoration: none; color: #24292f; background: #f6f8fa; }
        .btn:hover { background: #f3f4f6; }
        .btn-primary { background: var(--primary); color: white; border: none; }
        .btn-primary:hover { background: #0069d9; }
    </style>
</head>
<body>

<div class="header">
    <h1 style="font-size: 24px;">Asset Library</h1>
    <a href="https://github.com/nplus-assets/my-assets/tree/main/assets" target="_blank" class="admin-btn">
        <span>Ôºã</span> Á¥†Êùê„ÇíÁÆ°ÁêÜ/ËøΩÂä†
    </a>
</div>

<div class="container" id="gallery">
    </div>

<script>
    /**
     * „ÄêÈáçË¶Å„ÄëÁ¥†Êùê„ÇíËøΩÂä†„Åó„Åü„Çâ„ÄÅ‰∏ã„ÅÆ„É™„Çπ„Éà„Å´ÊÉÖÂ†±„ÇíÊõ∏„ÅçÂä†„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
     * name: ÁîªÈù¢„Å´Ë°®Á§∫„Åô„ÇãÂêçÂâç
     * file: ÂÆüÈöõ„ÅÆ„Éï„Ç°„Ç§„É´ÂêçÔºàassets„Éï„Ç©„É´„ÉÄÂÜÖ„ÅÆ„ÇÇ„ÅÆÔºâ
     * type: 'image', 'video', 'audio', '3d' „ÅÆ„ÅÑ„Åö„Çå„Åã
     */
    const myAssets = [
        { name: "„Çµ„É≥„Éó„É´ÁîªÂÉè", file: "sample.png", type: "image" },
        { name: "„Éá„É¢ÂãïÁîª", file: "demo.mp4", type: "video" },
        { name: "BGM", file: "music.mp3", type: "audio" },
        { name: "3D„É¢„Éá„É´", file: "model.glb", type: "3d" }
    ];

    // „Éï„Ç°„Ç§„É´„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥ÊâÄ„ÅÆURL
    const folderPath = "https://nplus-assets.github.io/my-assets/assets/";

    const gallery = document.getElementById('gallery');

    myAssets.forEach(item => {
        const url = folderPath + item.file;
        const card = document.createElement('div');
        card.className = 'card';

        let preview = '';
        if(item.type === 'image') preview = `<img src="${url}" loading="lazy">`;
        else if(item.type === 'video') preview = `<video src="${url}" controls muted></video>`;
        else if(item.type === 'audio') preview = `<div style="font-size:40px;">üéµ</div><audio src="${url}" controls style="position:absolute; bottom:5px; width:90%; height:30px;"></audio>`;
        else if(item.type === '3d') preview = `<model-viewer src="${url}" auto-rotate camera-controls></model-viewer>`;

        card.innerHTML = `
            <div class="preview-area">${preview}</div>
            <div class="card-body">
                <div class="file-name" title="${item.name}">${item.name}</div>
                <div class="actions">
                    <a href="${url}" download class="btn btn-primary">„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</a>
                    <button class="btn" onclick="copyToClipboard('${url}', this)">URL„Ç≥„Éî„Éº</button>
                </div>
            </div>
        `;
        gallery.appendChild(card);
    });

    // „Ç≥„Éî„ÉºÊ©üËÉΩ„ÅÆÊ≠£Á¢∫„Å™ÂÆüË£Ö
    function copyToClipboard(text, btn) {
        if (!navigator.clipboard) {
            // Êóß„Éñ„É©„Ç¶„Ç∂ÂØæÂøúÁî®
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            showFeedback(btn);
            return;
        }
        navigator.clipboard.writeText(text).then(() => showFeedback(btn));
    }

    function showFeedback(btn) {
        const originalText = btn.innerText;
        btn.innerText = "„Ç≥„Éî„ÉºÂÆå‰∫Ü";
        btn.style.backgroundColor = "#e6ffec";
        setTimeout(() => {
            btn.innerText = originalText;
            btn.style.backgroundColor = "";
        }, 1500);
    }
</script>

</body>
</html>
